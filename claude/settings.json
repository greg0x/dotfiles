{
  "hooks": {
    "Stop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "session=$(tmux display-message -p '#S' 2>/dev/null); config=$(grep \"^$session:\" ~/dotfiles/tmux/session-colors 2>/dev/null); if [ -n \"$config\" ]; then sound=$(echo \"$config\" | cut -d: -f3); emoji=$(echo \"$config\" | cut -d: -f4); else sound=Glass; emoji=; fi; terminal-notifier -title \"$emoji $session (cc)\" -message \"Task complete\" -sound \"$sound\" -activate com.mitchellh.ghostty -execute \"/opt/homebrew/bin/tmux switch-client -t $session\""
          }
        ]
      }
    ],
    "Notification": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "session=$(tmux display-message -p '#S' 2>/dev/null); config=$(grep \"^$session:\" ~/dotfiles/tmux/session-colors 2>/dev/null); if [ -n \"$config\" ]; then sound=$(echo \"$config\" | cut -d: -f3); emoji=$(echo \"$config\" | cut -d: -f4); else sound=Glass; emoji=; fi; terminal-notifier -title \"$emoji $session (cc)\" -message \"Waiting for input\" -sound \"$sound\" -activate com.mitchellh.ghostty -execute \"/opt/homebrew/bin/tmux switch-client -t $session\""
          }
        ]
      }
    ]
  },
  "ideAutoConnect": true,
  "enabledPlugins": {
    "lua-lsp@claude-plugins-official": true,
    "rust-analyzer-lsp@claude-plugins-official": true,
    "clangd-lsp@claude-plugins-official": true,
    "swift-lsp@claude-plugins-official": true
  },
  "allow": [
    "Bash(*)",
    "Read(~/dev/**)",
    "Read(~/notes/**)",
    "Read(~/dotfiles/**)",
    "Edit(~/dev/**)",
    "Edit(~/notes/**)",
    "Edit(~/dotfiles/**)",
    "Write(~/dev/**)",
    "Write(~/notes/**)",
    "Write(~/dotfiles/**)",
    "WebFetch(*)"
  ],
  "ask": [
    "Bash(rm:*)",
    "Bash(rmdir:*)",
    "Bash(git push:*)",
    "Bash(git reset --hard:*)",
    "Bash(git checkout -- :*)",
    "Bash(git clean:*)",
    "Bash(git branch -D:*)",
    "Bash(git rebase:*)",
    "Bash(git stash drop:*)",
    "Bash(git stash clear:*)",
    "Bash(sudo:*)",
    "Bash(chmod -R:*)",
    "Bash(chown -R:*)",
    "Bash(mv /*:*)",
    "Bash(dd:*)",
    "Bash(mkfs:*)",
    "Bash(kill:*)",
    "Bash(killall:*)",
    "Bash(pkill:*)"
  ],
  "deny": [
    "Read(.env)",
    "Read(.env.*)",
    "Read(**/secrets/**)"
  ]
}
